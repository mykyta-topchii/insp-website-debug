import{O as L,q as S,ar as M,Q as O,as as g,at as w,a2 as T,au as x,i as z,R as h,u as B,av as W}from"./BYrbnpKC.js";const Q=new Set,R=new Set;function D(t,r,s,a={}){function n(e){if(a.capture||H.call(r,e),!e.cancelBubble)return M(()=>s?.call(this,e))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?S(()=>{r.addEventListener(t,n,a)}):r.addEventListener(t,n,a),n}function j(t,r,s,a,n){var e={capture:a,passive:n},o=D(t,r,s,e);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&L(()=>{r.removeEventListener(t,o,e)})}let v=null;function H(t){var r=this,s=r.ownerDocument,a=t.type,n=t.composedPath?.()||[],e=n[0]||t.target;v=t;var o=0,u=v===t&&t.__root;if(u){var c=n.indexOf(u);if(c!==-1&&(r===document||r===window)){t.__root=r;return}var i=n.indexOf(r);if(i===-1)return;c<=i&&(o=c)}if(e=n[o]||t.target,e!==r){O(t,"currentTarget",{configurable:!0,get(){return e||s}});var y=x,q=z;g(null),w(null);try{for(var f,p=[];e!==null;){var d=e.assignedSlot||e.parentNode||e.host||null;try{var _=e["__"+a];if(_!=null&&(!e.disabled||t.target===e))if(T(_)){var[k,...E]=_;k.apply(e,[t,...E])}else _.call(e,t)}catch(b){f?p.push(b):f=b}if(t.cancelBubble||d===r||d===null)break;e=d}if(f){for(let b of p)queueMicrotask(()=>{throw b});throw f}}finally{t.__root=r,delete t.currentTarget,g(y),w(q)}}}function N(t,r,s){if(t==null)return r(void 0),h;const a=B(()=>t.subscribe(r,s));return a.unsubscribe?()=>a.unsubscribe():a}const l=[];function A(t,r=h){let s=null;const a=new Set;function n(u){if(W(t,u)&&(t=u,s)){const c=!l.length;for(const i of a)i[1](),l.push(i,t);if(c){for(let i=0;i<l.length;i+=2)l[i][0](l[i+1]);l.length=0}}}function e(u){n(u(t))}function o(u,c=h){const i=[u,c];return a.add(i),a.size===1&&(s=r(n,e)||h),u(t),()=>{a.delete(i),a.size===0&&s&&(s(),s=null)}}return{set:n,update:e,subscribe:o}}function C(t){let r;return N(t,s=>r=s)(),r}export{Q as a,j as e,C as g,H as h,R as r,N as s,A as w};
